$(function(){var t=document.getElementById("canvas"),i=t.getContext("2d");t.height=window.innerHeight,t.width=window.innerWidth;var e=t.height,n=t.width,l=[],d=.45*n,h=.37*e,o=function(e,t,i,n){this.x=e,this.y=t,this.speed=i,this.dist=n};!function(){for(var e,t=0;t<200;t++)e=20+t,l.push(new o(void 0,void 0,1,e))}(),function e(){i.fillStyle="#211a1f",i.fillRect(0,0,t.width,t.height),function(){for(var e=0;e<l.length;e++){var t=l[e];t.speed+=.006,t.x=d+Math.sin(-(e+t.speed))*(t.dist*e*.02),t.y=h+Math.cos(-(e+t.speed))*(t.dist*e*.01),e<.1*l.length?i.fillStyle="red":.1*l.length<e&&e<.2*l.length?i.fillStyle="#a36912":.2*l.length<e&&e<.4*l.length?i.fillStyle="#586125":.4*l.length<e&&e<.6*l.length?i.fillStyle="#28439c":.6*l.length<e&&e<l.length&&(i.fillStyle="#666"),i.fillRect(t.x,t.y,3,3)}}(),window.requestAnimationFrame(e)}(),window.onresize=function(){t.height=window.innerHeight,t.width=window.innerWidth,d=.45*window.innerWidth,h=.37*window.innerHeight};$(".future_piece").size();var w=0;function r(e){var t,i;(e=e||window.event).wheelDelta?(w+=e.wheelDelta/24,window.opera&&(w=-w)):e.detail&&(w-=-e.detail/.6),w&&(i=w,((t=e).wheelDelta||t.detail)&&$(".pieces").css({transform:"perspective(1000px) rotateZ("+i+"deg) translateX(540px) translateY(-45%) ",transformOrigin:"-5% -30%"}))}window.addEventListener&&window.addEventListener("DOMMouseScroll",r,!1),window.onmousewheel=document.onmousewheel=r});